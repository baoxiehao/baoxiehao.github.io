<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Alfred Workflow with Python | 浩然也空的博客</title>
  <meta name="author" content="浩然也空">
  
  <meta name="description" content="每周一篇文章，每年一次总结。">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Alfred Workflow with Python"/>
  <meta property="og:site_name" content="浩然也空的博客"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <link rel="alternative" href="/atom.xml" title="浩然也空的博客" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  

  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', '[object Object]']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;

ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';

var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

  

</head>

 <body>
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">浩然也空的博客</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="所有归档">
			  <i class="fa fa-archive"></i>归档
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="所有分类">
			  <i class="fa fa-folder"></i>分类
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="所有标签">
			  <i class="fa fa-tags"></i>标签
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="我的足迹">
			  <i class="fa fa-user"></i>关于
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">		
			<h1> Alfred Workflow with Python</h1>
		</div>		
	



<div class="row post">
	<!-- cols -->
	
	<div class="col-md-9">
	

			

	<!-- content -->
	<div class="mypage">		
	    <h2 id="简介">简介</h2>
<p><strong>Alfred</strong>作为<strong>Mac</strong>下排名第一的应用，功能极其强大，可以快速的搜索本地程序、使用搜索引擎搜索、查询词典、发送邮件、查找文件、剪贴板 管理、音乐控制等等功能。特别是<strong>V2</strong>版本新增了<strong>Workflow</strong>功能，全球各地的开发者为其创造了数百个workflow插件，更是极大地扩展和丰富了它的威力。</p>
<h2 id="基础篇">基础篇</h2>
<p>用<strong>Alfred</strong>可以用来做什么，可以直接替换掉系统自带的<strong>Spotlight</strong>吗？继续阅读之前，建议先看看这篇<a href="http://www.cnbeta.com/articles/203640.htm" target="_blank" rel="external">介绍文章</a>。</p>
<p>好了，看完Alfred的基础功能介绍，是不是瞬间那些Windows上的那些应用快速启动程序弱爆了？那下面就让我们看看有了<strong>Workflow</strong>之后还可以做什么？</p>
<a id="more"></a>

<h2 id="进阶篇">进阶篇</h2>
<p><a href="http://www.deanishe.net/alfred-workflow" target="_blank" rel="external">deanishe</a>为<strong>Alfred Workflow</strong>添加了<strong>Python</strong>框架库支持，自定义Workflow仅需要通过Python完成输入和输出的转换，最后输出到Alfred即可。</p>
<p>我想写的第一个自定义Alfred Workflow是支持在Alfred中直接进行关键词搜索并直接展示搜索结果，那需要几步完成呢？简单起见，第一个版本仅支持百度搜索。那么，就需要先通过Python语言完成百度搜索的关键词请求，对返回结果进行解析（包括搜索结果页标题、描述和链接），然后再通过以上的Python框架库将结果输出到Alfred中即可。</p>
<h3 id="百度搜索请求">百度搜索请求</h3>
<p>【1】首先，进行百度关键词搜索并解析结果格式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"result c-container "</span> <span class="attribute">id</span>=<span class="value">"2"</span> <span class="attribute">srcid</span>=<span class="value">"1599"</span> <span class="attribute">tpl</span>=<span class="value">"se_com_default"</span></span></div><div class="line"><span class="attribute">data-click</span>=<span class="value">"{'rsv_bdr':'0' ,'rsv_cd':'pt:40520'}"</span>&gt;</div><div class="line">    <span class="tag">&lt;<span class="title">h3</span> <span class="attribute">class</span>=<span class="value">"t"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">a</span> <span class="attribute">class</span>=<span class="value">"favurl"</span> <span class="attribute">style</span>=<span class="value">"background-image:url(http://t11.baidu.com/it/u=1884976882,3278791703&fm=58)"</span></span></div><div class="line">        <span class="attribute">fav-url</span>=<span class="value">"http://t11.baidu.com/it/u=1884976882,3278791703&fm=58"</span> <span class="attribute">data-click</span>=<span class="value">"{</span></div><div class="line">        'F':'778317EA',</div><div class="line">        'F1':'9D73F1C4',</div><div class="line">        'F2':'4CA6DD6B',</div><div class="line">        'F3':'54E5A43F',</div><div class="line">        'T':'1408714037',</div><div class="line">        'y':'FBF3F4B7'</div><div class="line">        }" <span class="attribute">href</span>=<span class="value">"//www.baidu.com/link?url=KcDt3TeRrK8URziCD1sFtajJ9oLJSq-j5_WYXqhN0oa"</span> <span class="attribute">target</span>=<span class="value">"_blank"</span>&gt;</div><div class="line">            百度<span class="tag">&lt;<span class="title">em</span>&gt;</span>新闻<span class="tag">&lt;/<span class="title">em</span>&gt;</span>搜索——全球最大的中文<span class="tag">&lt;<span class="title">em</span>&gt;</span>新闻<span class="tag">&lt;/<span class="title">em</span>&gt;</span>平台</div><div class="line">        <span class="tag">&lt;/<span class="title">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">h3</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"c-abstract"</span>&gt;</span></div><div class="line">        百度<span class="tag">&lt;<span class="title">em</span>&gt;</span>新闻<span class="tag">&lt;/<span class="title">em</span>&gt;</span>是包含海量资讯的<span class="tag">&lt;<span class="title">em</span>&gt;</span>新闻<span class="tag">&lt;/<span class="title">em</span>&gt;</span>服务平台,真实反映每时每刻的<span class="tag">&lt;<span class="title">em</span>&gt;</span>新闻<span class="tag">&lt;/<span class="title">em</span>&gt;</span>热点。您可以搜索<span class="tag">&lt;<span class="title">em</span>&gt;</span>新闻<span class="tag">&lt;/<span class="title">em</span>&gt;</span>事件、热点话题、人物动态、产品资讯等,快速了解它们的最新进展。</div><div class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></div><div class="line">    ...</div></pre></td></tr></table></figure>

<p>【2】接着就可以根据搜索结果尝试编码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># encoding: utf-8</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="keyword">from</span> BeautifulSoup <span class="keyword">import</span> *</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">search</span><span class="params">(key)</span>:</span></div><div class="line">    <span class="comment"># 百度搜索网址，可能需要加入搜索请求来源混淆，避免百度屏蔽</span></div><div class="line">    search_url = <span class="string">'http://www.baidu.com/s?wd=key'</span></div><div class="line"></div><div class="line">    <span class="comment"># 获取搜索结果</span></div><div class="line">    req = requests.get(search_url.replace(<span class="string">'key'</span>, key))</div><div class="line">    soup = BeautifulSoup(req.content)</div><div class="line"></div><div class="line">    <span class="comment"># 解析搜索结果</span></div><div class="line">    tables = soup.findAll(<span class="string">'div'</span>, {<span class="string">'class'</span>: <span class="string">'result c-container '</span>})</div><div class="line">    results = []</div><div class="line">    <span class="keyword">for</span> table <span class="keyword">in</span> tables:</div><div class="line">        part1 = table.find(attrs={<span class="string">'class'</span>: <span class="string">'t'</span>})</div><div class="line">        title = removeTag(part1.a.renderContents(), <span class="string">'&lt;em&gt;'</span>)</div><div class="line">        url = part1.a[<span class="string">'href'</span>]</div><div class="line">        part2 = table.find(<span class="string">'div'</span>, {<span class="string">'class'</span>: <span class="string">'c-abstract'</span>})</div><div class="line">        desc = removeTag(part2.renderContents(), <span class="string">'&lt;em&gt;'</span>)</div><div class="line">        results.append((title, url, desc))</div><div class="line">        <span class="keyword">print</span> <span class="string">'标题：{0}\n描述：{1}\n链接：{2}\n'</span>.format(title, desc, url)</div><div class="line">    <span class="keyword">return</span> results</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">removeTag</span><span class="params">(text, tag)</span>:</span></div><div class="line">    <span class="string">'''去除搜索结果的标签符号，比如强调符号em'''</span></div><div class="line">    <span class="keyword">return</span> text.replace(tag, <span class="string">''</span>).replace(tag[<span class="number">0</span>:<span class="number">1</span>] + <span class="string">'/'</span> + tag[<span class="number">1</span>:], <span class="string">''</span>)</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</div><div class="line">    search(<span class="string">'新闻'</span>)</div></pre></td></tr></table></figure>

<h3 id="创建Workflow">创建Workflow</h3>
<p>【1】新建空白Workflow</p>
<p><img src="/imgs/wf-new-blank.png" alt=""></p>
<p>【2】编辑Workflow描述信息</p>
<p><img src="/imgs/wf-info.png" alt=""></p>
<p>【3】创建Script输入</p>
<p><img src="/imgs/wf-new-script.png" alt=""></p>
<p>【4】编辑Script信息</p>
<p><img src="/imgs/wf-detail.png" alt=""></p>
<p>【5】基于<strong>Workflow Python</strong>框架进行编码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># encoding: utf-8</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> workflow <span class="keyword">import</span> Workflow, ICON_WEB, web</div><div class="line"><span class="keyword">from</span> BeautifulSoup <span class="keyword">import</span> *</div><div class="line"><span class="keyword">import</span> sys</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">request_baidu_search</span><span class="params">(query)</span>:</span></div><div class="line">    url = <span class="string">u'http://www.baidu.com/s'</span></div><div class="line">    r = web.get(url, {<span class="string">'wd'</span>: query})</div><div class="line"></div><div class="line">    r.raise_for_status()</div><div class="line"></div><div class="line">    <span class="keyword">return</span> parse_baidu_results(BeautifulSoup(r.content))</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_baidu_results</span><span class="params">(soup)</span>:</span></div><div class="line">    tables = soup.findAll(<span class="string">'div'</span>, {<span class="string">'class'</span>: <span class="string">'result c-container '</span>})</div><div class="line">    results = []</div><div class="line">    <span class="keyword">for</span> table <span class="keyword">in</span> tables:</div><div class="line">        part1 = table.find(attrs={<span class="string">'class'</span>: <span class="string">'t'</span>})</div><div class="line">        title = part1.a.renderContents()</div><div class="line">        title = wf.decode(removeTag(title, <span class="string">'em'</span>))</div><div class="line">        <span class="comment"># 使用wf.logger或者print(text, file=sys.stderr)来打印log，否则会打乱从标准输出获取的XML内容</span></div><div class="line">        wf.logger.debug(title)</div><div class="line">        url = <span class="string">u'http:'</span> + wf.decode(part1.a[<span class="string">'href'</span>])</div><div class="line">        part2 = table.find(<span class="string">'div'</span>, {<span class="string">'class'</span>: <span class="string">'c-abstract'</span>})</div><div class="line">        desc = part2.renderContents()</div><div class="line">        desc = wf.decode(removeTag(desc, <span class="string">'em'</span>))</div><div class="line">        results.append((title, desc, url))</div><div class="line">    <span class="keyword">return</span> results</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">removeTag</span><span class="params">(text, tag)</span>:</span></div><div class="line">    <span class="string">'''去除搜索结果的标签符号，比如强调符号em'''</span></div><div class="line">    startTag = <span class="string">'&lt;'</span> + tag + <span class="string">'&gt;'</span></div><div class="line">    endTag = <span class="string">'&lt;/'</span> + tag + <span class="string">'&gt;'</span></div><div class="line">    <span class="keyword">return</span> text.replace(startTag, <span class="string">''</span>).replace(endTag, <span class="string">''</span>)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(wf)</span>:</span></div><div class="line">    query = wf.args[<span class="number">0</span>]</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">()</span>:</span></div><div class="line">        <span class="keyword">return</span> request_baidu_search(query)</div><div class="line"></div><div class="line">    results = wf.cached_data(<span class="string">u'results'</span> + query, wrapper, max_age=<span class="number">60</span>)</div><div class="line"></div><div class="line">    <span class="keyword">for</span> result <span class="keyword">in</span> results:</div><div class="line">        wf.add_item(</div><div class="line">            title = result[<span class="number">0</span>],</div><div class="line">            subtitle = result[<span class="number">1</span>],</div><div class="line">            arg = result[<span class="number">2</span>],</div><div class="line">            valid = <span class="keyword">True</span>,</div><div class="line">            icon = ICON_WEB)</div><div class="line">    wf.send_feedback()</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    wf = Workflow()</div><div class="line">    sys.exit(wf.run(main))</div></pre></td></tr></table></figure>

<p>【6】运行测试，如果出错可以选择<strong>Debug</strong>：</p>
<p><img src="/imgs/wf-debug.png" alt=""></p>
<p>测试结果如图：</p>
<p><img src="/imgs/wf-search-demo.png" alt=""></p>
<p>【7】为搜索结果添加打开网页动作，这样点击搜索结果项就可以跳到链接详情：</p>
<p><img src="/imgs/wf-open-url.png" alt=""></p>
<p><img src="/imgs/wf-link-url.png" alt=""></p>
<p>于是，第一个Alfred Workflow by Python就完成了，后续再进行进一步的优化吧，待续~~</p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
		
          <li class="prev disabled"><a><i class="fa fa-arrow-circle-o-left"></i>上一页</a></li>
        

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/2014/08/19/GoAgent翻墙记/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
  <h2 class="title">留言</h2>

  
</section>

	
	</div> <!-- col-md-9/col-md-12 -->
	
	
		<div class="col-md-3"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2014 8月 20 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/工具/">工具<span>2</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/Alfred-Python-Geek/">Alfred Python Geek<span>1</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
			<ol class="toc-article"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#简介"><span class="toc-article-text">简介</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#基础篇"><span class="toc-article-text">基础篇</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#进阶篇"><span class="toc-article-text">进阶篇</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#百度搜索请求"><span class="toc-article-text">百度搜索请求</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#创建Workflow"><span class="toc-article-text">创建Workflow</span></a></li></ol></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	

</div><!-- row -->


<!-- Duoshuo Comment BEGIN -->
<div class="ds-thread" data-title="Alfred Workflow with Python" data-url="http://baoxiehao.com/2014/08/20/Alfred-Workflow-with-Python/"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"baoxiehao"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
    || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
<!-- Duoshuo Comment END -->


	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2014 浩然也空
  
      with help from <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
  <!-- Duoshuo Comment BEGIN -->
<div class="ds-thread" data-title="Alfred Workflow with Python" data-url="http://baoxiehao.com/2014/08/20/Alfred-Workflow-with-Python/"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"baoxiehao"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
    || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
<!-- Duoshuo Comment END -->

</div> <!-- container-narrow -->
  
<a id="gotop" href="#">
  <span>▲</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51276891-1', 'baoxiehao.com');
  ga('send', 'pageview');

</script>

</body>
   </html>
